<div id='view'>
	Benchmarks are measurements of database performance characteristics
	(e.g. tps - transaction per second) with predefined workloads such as
	TPC-C.
	<p>This workbench provides to run workloads at multiple scales,
		collect benchmark performances at each scale factor to characterize
		ability of database to scale.</p>
</div>


<div id='dialog' class="w3-modal-conent w3-padding w3-card-4 w3-border">

		<header class='w3-container w3-teal'>
			<h1>Run benchmark</h1>
		</header>
		<p class='w3-margin'>benchmark measures standard performance
			metrics against standard workload (e.g. TPC-C)</p>
		<form class="w3-container w3-margin">
			<div class='w3-row w3-padding'>
				<div class='w3-col m4'>
					<label class="w3-text-teal"><b>Benchmark name</b></label>
				</div>
				<div class='w3-col m7'>
					<input id='benchmark-name' class="w3-input w3-border" type="text"
						required>
				</div>
			</div>

			<div class='w3-row w3-padding'>
				<div class='w3-col m4'>
					<label class="w3-text-teal"><b>Target database</b></label>
				</div>
				<div class='w3-col m7'>
					<select id='benchmark-database'>
					</select>
				</div>
			</div>
			<div class='w3-row w3-padding'>
				<div class='w3-col m4'>
					<label class="w3-text-teal"><b>scale factors for
							benchmarking</b></label>
				</div>
				<div class='w3-col m7'>
					<input id='benchmark-scale-factors' class="w3-input w3-border"
						type="text" value="1, 10, 100">
				</div>
			</div>
			<div class='w3-row w3-padding'>
				<div class='w3-col m10'>
					<p class='w3-small'>specify multiple scale factors as
						space-separated numbers</p>
				</div>
			</div>
			<div class='w3-row w3-padding'>
				<div class='w3-col m4'>
					<label class="w3-text-teal"><b>time to collect
							benchmark</b> <span class='w3-small'>(in minutes)</span></label>
				</div>
				<div class='w3-col m7'>
					<input id='benchmark-duration' class="w3-input w3-border"
						type="number" step="1" value='5' min='5'>
				</div>
			</div>


			<div class='w3-bar'>
				<button class='w3-button w3-light-grey w3-right cancel-button'
				onclick="$('#run-benchmark-dialog').hide()">Cancel</button>
				<input class="w3-button w3-blue" value='Run Benchmark' type='submit'>
			</div>
		</form>
	
</div>
<!-- <script>
$('#run-benchmark-menu-item').on('click', function(e){
	console.log('clicked ' + $(this).attr('id'))
	e.preventDefault()
	var $databases = $('#run-benchmark-dialog')
		          .find('#benchmark-database').first()
    Database.populateComboBox(
    		$databases, 
    	     Database.getAll())
   
	showDialog($('#run-benchmark-dialog'))
})

$('#run-benchmark-dialog').on('submit', function(e) {
	e.preventDefault()
	
	var $form = $(this)
	var name     = $form.find('#benchmark-name')
	var database = $form.find('#benchmark-database')
	
	var url = 'benchmark' 
		+ '/' + name.val() 
		+ '/' + database.val() + '/'
	var scaleFactors  = $form.find('#benchmark-scale-factors')
	var timeToRun     = $form.find('#benchmark-duration')
	var scaleFactors = scaleFactors.val()
	var tokens = scaleFactors.split(",")
	var intTokens = []
	for (var i = 0; i < tokens.length; i++) {
		intTokens.push(parseInt(tokens[i]));
	}
	console.log('setting int tokens ' + intTokens)
	var payload = {
		'initOptions'    : '-i',
		'options'        : '-T 5',
		'scaleFactors'   : intTokens,  
		'timeToRun'      : timeToRun.val()
	}
	$(this).hide()
	new Database().runBenchmark(url, payload)
})


</script>
 -->